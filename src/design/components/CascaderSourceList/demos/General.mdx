---
name: CascaderSourceList
path: /CascaderSourceList
menu: Table
---

import { Playground, PropsTable } from 'docz';
import CascaderSourceListBase from '../CascaderSourceListBase';

# CascaderSourceListBase

级联 `SourceList` ，实现了 `Input` 接口，可以当作控件使用

## 完全受控版本

<Playground>
  {() => {

    class Demo extends React.PureComponent {

        constructor(props) {
            super(props)
            this.state = {
                 options : [
                    {
                        value: 'zhejiang',
                        label: 'Zhejiang',
                        children: [
                        {
                            value: 'hangzhou',
                            label: 'Hangzhou',
                            children: [
                            {
                                value: 'xihu',
                                label: 'West Lake',
                                children: [
                                {
                                    value: 'hangzhou2',
                                    label: 'Hangzhou2',
                                },
                                ],
                            },
                            ],
                        },
                        ],
                    },
                    {
                        value: 'jiangsu',
                        label: 'Jiangsu',
                        children: [
                        {
                            value: 'nanjing',
                            label: 'Nanjing',
                            children: [
                            {
                                value: 'zhonghuamen',
                                label: 'Zhong Hua Men',
                            },
                            ],
                        },
                        ],
                    },
                ]
            }
            this.onChange = this.onChange.bind(this);
            this.onRemove = this.onRemove.bind(this);
        }

        onChange(selectedRowKeys) {
            console.log(selectedRowKeys)
            this.setState({
                value: selectedRowKeys
            })
        }

        onRemove(params) {
            console.log(params)
            this.setState({
                options: this.removeOptions(this.state.options, params.rowId)
            })
        }

       removeOptions(options, key) {
            return options.map(item => {
                if (item.value === key) {
                    return null;
                }
                if (item.children) {
                    return {
                        ...item,
                        children: this.removeOptions(item.children, key)
                    }
                }
                return item;
            }).filter(item => {
                return !!item;
            })
        }

         insertOptions(options, key) {
            return options.map(item => {
                if (item.value === key) {
                    return null;
                }
                if (item.children) {
                    return {
                        ...item,
                        children: this.removeOptions(item.children, key)
                    }
                }
                return item;
            }).filter(item => {
                return !!item;
            })
        }

        onCreate(params) {
            console.log(params)
        }

        render () {
            return <>
                <CascaderSourceListBase
                    value={this.state.value}
                    onChange={this.onChange}
                    onRemove={this.onRemove}
                    onCreate={this.onCreate}
                    options={this.state.options}
                    list={[
                        {
                            title: 'title',
                            rowSelection: 'multiple',
                            createFormControls: [
                                {
                                    dataIndex: 'nihao',
                                    control: {
                                        label: '省份',
                                    },
                                },
                            ],
                        },
                        {
                            title: 'title',
                            createFormControls: [
                                {
                                    dataIndex: 'city',
                                    control: {
                                        label: '城市',
                                    },
                                },
                                {
                                    dataIndex: 'nihao',
                                    control: {
                                        label: '省份',
                                    },
                                },
                            ],
                        },
                        {
                            title: 'title',
                        },
                    ]}></CascaderSourceListBase>
            </>
        }
    }

    return <Demo />

}}

</Playground>

# API

<PropsTable of={CascaderSourceListBase} />
